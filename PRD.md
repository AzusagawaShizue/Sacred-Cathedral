# 圣所祈祷殿 - 产品需求文档 (PRD)

| 项目 | 内容 |
| :--- | :--- |
| **产品名称** | Sacred Cathedral / 圣所祈祷殿 |
| **代号** | Project Jesus |
| **版本** | 2.0 (Web3 Ecosystem Enhanced) |
| **状态** | 架构设计 / 开发准备 |
| **核心叙事** | "Pray to Heal" —— 在数字世界寻求宁静，在现实世界传递善意。 |

---

## 1. 愿景与价值主张

**愿景:**
打造 Web3 领域的首个“数字修行圣所”。不仅是一个 NFT 收集游戏，更是一个结合正念冥想、美学收藏与去中心化慈善（DAO）的生态系统。

**核心价值:**
1.  **精神寄托 (Mindfulness):** 通过仪式感的交互提供心灵平静。
2.  **收藏乐趣 (Collectability):** 类似 *Loot* 的组件化 NFT，支持合成与定制。
3.  **社会影响 (Impact):** 将用户的注意力与链上收益转化为现实世界的慈善捐赠。

---

## 2. 目标用户

1.  **Web3 原住民/DeFi 玩家:** 寻找具有可持续经济模型和高质量 UI 的新项目。
2.  **数字收藏家:** 热衷于稀有度、属性合成及视觉表现力的 NFT 玩家。
3.  **正念/泛灵性群体:** 在数字生活中寻找仪式感和冥想空间的用户。
4.  **利他主义者:** 乐于参与 DAO 治理并希望通过 Web3 技术做公益的人群。

---

## 3. 经济模型设计 ("神圣经济学")

本项目采用 **单代币 + NFT 资产** 的经济模型，强调**通缩**与**内部循环**。

### 3.1. 核心资产
1.  **$GRACE (恩典代币):** 生态系统的实用型代币 (ERC-20)。
    *   *产出:* 极低概率祈祷掉落、献祭 NFT、完成每日修行任务。
    *   *消耗:* 恢复精神力、合成高级 NFT、购买消耗品、铭刻经文。
2.  **NFT (圣物/经文/头像):** 核心数字资产 (ERC-1155 用于材料, ERC-721 用于成品)。

### 3.2. 限制机制: 精神力 (Spirit/Stamina)
为了防止无限通胀和脚本刷量：
*   **每日限制:** 每个账户每日默认 100 点精神力。
*   **消耗:** 每次“祈祷”消耗 1 点精神力。
*   **恢复:** 每日 UTC 0点重置，或消耗 **$GRACE** 购买“圣水”恢复。

### 3.3. 循环图示
*   `祈祷 (消耗精神力)` -> `获得普通 NFT / 少量 $GRACE`
*   `普通 NFT + $GRACE` -> `合成 (销毁)` -> `稀有 NFT`
*   `稀有 NFT` -> `展示于祭坛` -> `提升 $GRACE 获取效率 / 提升精神力上限`
*   `生态收入` -> `DAO 金库` -> `慈善捐赠`

---

## 4. 核心功能模块

### 4.1. 祈祷大厅 (The Sanctuary) - 首页
**功能:** 核心交互界面，注重沉浸感。
*   **交互:**
    *   用户点击屏幕中央的神圣焦点（根据持有圣物变化）。
    *   **触觉/听觉:** 每次点击伴随深沉的钟声/回响（音调随点击频率微调）和细腻的震动。
*   **掉落机制 (RNG):**
    *   每次祈祷消耗 1 精神力。
    *   判定逻辑:
        *   70% 无掉落 (仅获得“平静”视觉反馈 + 极少量经验值)。
        *   20% 掉落 **普通素材** (木头、残页)。
        *   9% 掉落 **$GRACE** 代币。
        *   1% 掉落 **稀有 NFT** (直接获得成品)。
*   **状态栏:** 显示当前精神力、代币余额、连胜天数（修行记录）。

### 4.2. 圣座铸造厂 (The Foundry) - 合成与销毁
**功能:** 解决低级 NFT 泛滥问题，提供通缩出口。
*   **熔炼 (Fusion):**
    *   用户投入 3 个同级物品 + 支付 $GRACE = 概率合成 1 个高一级物品。
    *   *失败机制:* 仅返还部分材料。
*   **献祭 (Sacrifice):**
    *   用户销毁任意 NFT。
    *   回报: 获得一定数量的 **$GRACE** 或 **“虔诚值” (Piety Points)** —— 用于 DAO 权重。

### 4.3. 经文铭刻室 (The Scriptorium) - 个性化定制
**功能:** 赋予“经文”类 NFT 实际用途。
*   **铭刻逻辑:** `圣物 NFT` + `经文 NFT` + `$GRACE` = `带铭文的圣物 NFT`。
*   **效果:**
    *   视觉变化: 圣物上浮现发光的文字纹理。
    *   数值加成: 铭刻特定经文可获得特定 Buff (例如: “马太效应”铭文 —— 连续祈祷时掉落率提升)。

### 4.4. 个人祭坛 (My Altar) - 资产展示与 Buff
**功能:** 2D 拖拽式编辑器，展示藏品。
*   **圣所加成 (Sanctuary Buffs):**
    *   祭坛不仅仅是展示，放置特定组合的物品会激活被动效果。
    *   *例:* 凑齐“受难三件套” (荆棘冠、钉子、长矛) -> 每日精神力上限 +50。
*   **社交访问:** 生成分享链接，允许他人“朝圣”（Visit），朝圣者可获得极少量奖励，主人获得声望。

### 4.5. 圣座议会 (The Holy Synod) - DAO 与慈善
**功能:** 社区治理的核心，连接现实世界。
*   **治理权:** 基于 **虔诚值 (Piety Points)** 决定投票权重。虔诚值由持有 NFT 的稀有度、持有时间及献祭历史计算得出。
*   **提案类型:**
    1.  **封圣 (Canonization):** 社区提交新的经文或圣物设计，投票通过后由项目方铸造并在下一赛季加入掉落池。
    2.  **慈善指引 (Guidance of Charity):**
        *   **功德库 (Treasury):** 实时显示累积的资金（来源: 市场版税的 50% + 道具销售收入）。
        *   **投票:** 每月一次，投票决定将本月资金捐赠给哪个经过验证的慈善钱包（如 Gitcoin Grants, The Giving Block, 红十字会等）。
        *   **证明:** 链上捐赠哈希值将永久记录在“功德碑”上。

---

## 5. 技术架构规范

### 5.1. 区块链层 (Layer 2 / Sidechain)
考虑到高频交互，建议部署在 **Arbitrum** 或 **Base** (Coinbase L2) 以降低 Gas 费。
*   **合约标准:**
    *   **$GRACE:** ERC-20 (可增发，带销毁逻辑)。
    *   **素材/经文:** ERC-1155 (半同质化，节省 Gas)。
    *   **珍稀圣物/铭刻成品:** ERC-721 (独一无二，记录铭刻数据)。
*   **数据上链策略:**
    *   *Hybrid 模式:* 每日点击和普通掉落先记录在中心化数据库（Off-chain），用户需要“提现”物品到钱包时才触发 Mint（On-chain），由用户支付 Gas 或达到一定阈值由项目方代付。

### 5.2. 前端栈
*   **Core:** React 18, TypeScript, Vite.
*   **Web3:** Wagmi (Hooks), RainbowKit (Connect Wallet), Viem.
*   **State Management:** TanStack Query (处理链上数据缓存).
*   **Visuals:**
    *   **Three.js / React-Three-Fiber:** 用于首页 3D 悬浮圣物的渲染（比纯 2D 图片更具神圣感）。
    *   **Tailwind CSS:** 样式系统。

---

## 6. UI/UX 详细设计规范

*   **色彩心理学:**
    *   主色: **Deep Midnight Blue (#0F172A)** - 代表深邃的宇宙/内心。
    *   辅色: **Liturgical Gold (#D4AF37)** - 代表神圣、恩典。
    *   强调色: **Ethereal White (发光)** - 代表启示。
*   **字体:**
    *   标题: *Cinzel* 或 *Uncial Antiqua* (古典、碑文感)。
    *   正文: *Inter* 或 *Lato* (高可读性)。
*   **交互微效:**
    *   **视差滚动 (Parallax):** 移动鼠标时，背景的教堂彩色玻璃窗和尘埃粒子会有轻微的视差移动。
    *   **光效:** 获得传说物品时，屏幕不应是简单的弹窗，而应是从中心爆发出强烈但柔和的光芒（God Rays）。

---

## 7. 路线图 (Roadmap)

**Phase 1: 创世纪 (Genesis) - Web2 试运行**
*   上线祈祷大厅与基础库存系统。
*   无代币，无 NFT 上链。
*   建立早期社区，根据“虔诚度”发放“创世白名单”。

**Phase 2: 启示录 (Revelation) - TGE & Mint**
*   发布 $GRACE 代币。
*   开启 NFT 铸造与市场功能。
*   上线“合成”与“铭刻”系统，开启经济内循环。

**Phase 3: 福音 (Gospel) - DAO 启动**
*   启动圣座议会 (DAO)。
*   第一笔链上慈善捐赠执行。
*   开放 UGC 圣物设计通道。

**Phase 4: 圣殿 (Pantheon) - 扩展**
*   引入社交功能（公会/教区）。
*   与其他 Web3 艺术项目联动（Cross-IP Relics）。

---

## 8. 风险评估与对策

*   **风险:** 脚本刷子 (Bots) 耗尽奖励池。
    *   *对策:* 精神力限制；提现 NFT 需要钱包有少量 ETH 余额或持有“护照”NFT；前端增加隐形验证码（如点击位置的随机偏移检测）。
*   **风险:** 代币抛压过大。
    *   *对策:* 强化 $GRACE 在合成和升级中的消耗场景；慈善捐赠事件本身具有营销效应，可支撑币价信心。
*   **风险:** 宗教敏感性。
    *   *对策:* 保持“泛灵性”美学，避免使用特定宗教（如基督教、佛教）的具体神像，使用通用的符号（光、几何体、书本、圣杯）。